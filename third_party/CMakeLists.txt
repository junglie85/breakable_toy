# fmt
add_subdirectory(fmt)

mark_as_advanced(FMT_CUDA_TEST)
mark_as_advanced(FMT_DEBUG_POSTFIX)
mark_as_advanced(FMT_DOC)
mark_as_advanced(FMT_FUZZ)
mark_as_advanced(FMT_INC_DIR)
mark_as_advanced(FMT_INSTALL)
mark_as_advanced(FMT_MODULE)
mark_as_advanced(FMT_OS)
mark_as_advanced(FMT_PEDANTIC)
mark_as_advanced(FMT_SYSTEM_HEADERS)
mark_as_advanced(FMT_TEST)
mark_as_advanced(FMT_WERROR)

# glad
add_subdirectory(glad/cmake)
glad_add_library(glad_vulkan_12 REPRODUCIBLE LOADER API vulkan=1.2)

mark_as_advanced(GLAD_SOURCES_DIR)

# glfw
set(GLFW_BUILD_DOCS OFF CACHE BOOL "Don't build GLFW docs" FORCE)
set(GLFW_INSTALL OFF CACHE BOOL "Don't install GLFW" FORCE)
add_subdirectory(glfw)

mark_as_advanced(GLFW_BUILD_COCOA)
mark_as_advanced(GLFW_BUILD_DOCS)
mark_as_advanced(GLFW_BUILD_EXAMPLES)
mark_as_advanced(GLFW_BUILD_TESTS)
mark_as_advanced(GLFW_INSTALL)
mark_as_advanced(GLFW_LIBRARY_TYPE)

# spdlog
set(SPDLOG_FMT_EXTERNAL ON CACHE BOOL "Use bundled fmt library" FORCE)
add_subdirectory(spdlog)

mark_as_advanced(SPDLOG_BUILD_ALL)
mark_as_advanced(SPDLOG_BUILD_BENCH)
mark_as_advanced(SPDLOG_BUILD_EXAMPLE)
mark_as_advanced(SPDLOG_BUILD_EXAMPLE_HO)
mark_as_advanced(SPDLOG_BUILD_SHARED)
mark_as_advanced(SPDLOG_BUILD_TESTS)
mark_as_advanced(SPDLOG_BUILD_TESTS_HO)
mark_as_advanced(SPDLOG_BUILD_WARNINGS)
mark_as_advanced(SPDLOG_CLOCK_COARSE)
mark_as_advanced(SPDLOG_DISABLE_DEFAULT_LOGGER)
mark_as_advanced(SPDLOG_ENABLE_PCH)
mark_as_advanced(SPDLOG_FMT_EXTERNAL)
mark_as_advanced(SPDLOG_FMT_EXTERNAL_HO)
mark_as_advanced(SPDLOG_INSTALL)
mark_as_advanced(SPDLOG_NO_ATOMIC_LEVELS)
mark_as_advanced(SPDLOG_NO_EXCEPTIONS)
mark_as_advanced(SPDLOG_NO_THREAD_ID)
mark_as_advanced(SPDLOG_NO_TLS)
mark_as_advanced(SPDLOG_PREVENT_CHILD_FD)
mark_as_advanced(SPDLOG_SANITIZE_ADDRESS)
mark_as_advanced(SPDLOG_TIDY)
mark_as_advanced(SPDLOG_USE_STD_FORMAT)
mark_as_advanced(SPDLOG_WCHAR_FILENAMES)
mark_as_advanced(SPDLOG_WCHAR_SUPPORT)

if(BT_BUILD_TESTS)
    add_subdirectory(Catch2)

    mark_as_advanced(CATCH_CONFIG_ANDROID_LOGWRITE)
    mark_as_advanced(CATCH_CONFIG_BAZEL_SUPPORT)
    mark_as_advanced(CATCH_CONFIG_COLOUR_WIN32)
    mark_as_advanced(CATCH_CONFIG_CONSOLE_WIDTH)
    mark_as_advanced(CATCH_CONFIG_COUNTER)
    mark_as_advanced(CATCH_CONFIG_CPP11_TO_STRING)
    mark_as_advanced(CATCH_CONFIG_CPP17_BYTE)
    mark_as_advanced(CATCH_CONFIG_CPP17_OPTIONAL)
    mark_as_advanced(CATCH_CONFIG_CPP17_STRING_VIEW)
    mark_as_advanced(CATCH_CONFIG_CPP17_UNCAUGHT_EXCEPTIONS)
    mark_as_advanced(CATCH_CONFIG_CPP17_VARIANT)
    mark_as_advanced(CATCH_CONFIG_DEFAULT_REPORTER)
    mark_as_advanced(CATCH_CONFIG_DISABLE)
    mark_as_advanced(CATCH_CONFIG_DISABLE_EXCEPTIONS)
    mark_as_advanced(CATCH_CONFIG_DISABLE_EXCEPTIONS_CUSTOM_HANDLER)
    mark_as_advanced(CATCH_CONFIG_DISABLE_STRINGIFICATION)
    mark_as_advanced(CATCH_CONFIG_ENABLE_ALL_STRINGMAKERS)
    mark_as_advanced(CATCH_CONFIG_ENABLE_OPTIONAL_STRINGMAKER)
    mark_as_advanced(CATCH_CONFIG_ENABLE_PAIR_STRINGMAKER)
    mark_as_advanced(CATCH_CONFIG_ENABLE_TUPLE_STRINGMAKER)
    mark_as_advanced(CATCH_CONFIG_ENABLE_VARIANT_STRINGMAKER)
    mark_as_advanced(CATCH_CONFIG_EXPERIMENTAL_REDIRECT)
    mark_as_advanced(CATCH_CONFIG_FAST_COMPILE)
    mark_as_advanced(CATCH_CONFIG_GLOBAL_NEXTAFTER)
    mark_as_advanced(CATCH_CONFIG_NOSTDOUT)
    mark_as_advanced(CATCH_CONFIG_NO_ANDROID_LOGWRITE)
    mark_as_advanced(CATCH_CONFIG_NO_BAZEL_SUPPORT)
    mark_as_advanced(CATCH_CONFIG_NO_COLOUR_WIN32)
    mark_as_advanced(CATCH_CONFIG_NO_COUNTER)
    mark_as_advanced(CATCH_CONFIG_NO_CPP11_TO_STRING)
    mark_as_advanced(CATCH_CONFIG_NO_CPP17_BYTE)
    mark_as_advanced(CATCH_CONFIG_NO_CPP17_OPTIONAL)
    mark_as_advanced(CATCH_CONFIG_NO_CPP17_STRING_VIEW)
    mark_as_advanced(CATCH_CONFIG_NO_CPP17_UNCAUGHT_EXCEPTIONS)
    mark_as_advanced(CATCH_CONFIG_NO_CPP17_VARIANT)
    mark_as_advanced(CATCH_CONFIG_NO_GLOBAL_NEXTAFTER)
    mark_as_advanced(CATCH_CONFIG_NO_POSIX_SIGNALS)
    mark_as_advanced(CATCH_CONFIG_NO_USE_ASYNC)
    mark_as_advanced(CATCH_CONFIG_NO_WCHAR)
    mark_as_advanced(CATCH_CONFIG_NO_WINDOWS_SEH)
    mark_as_advanced(CATCH_CONFIG_POSIX_SIGNALS)
    mark_as_advanced(CATCH_CONFIG_PREFIX_ALL)
    mark_as_advanced(CATCH_CONFIG_USE_ASYNC)
    mark_as_advanced(CATCH_CONFIG_WCHAR)
    mark_as_advanced(CATCH_CONFIG_WINDOWS_CRTDBG)
    mark_as_advanced(CATCH_CONFIG_WINDOWS_SEH)
    mark_as_advanced(CATCH_DEVELOPMENT_BUILD)
    mark_as_advanced(CATCH_INSTALL_DOCS)
    mark_as_advanced(CATCH_INSTALL_EXTRAS)
endif()
